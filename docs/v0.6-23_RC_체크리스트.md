# v0.6-23 Release Candidate 체크리스트

## 1) Git push (Cursor에서 실행 완료)

| 항목 | 결과 |
|------|------|
| **status** | not clean — untracked 1건: `docs/v0.6-23_결과보고.md` (문서만, 코드 변경 없음) |
| **push** | **success** — `d84c4a6..63d38db  main -> main` |
| **원격** | origin = https://github.com/vlackholism5/gilime.git |
| **브랜치** | main (로컬 7커밋 push 완료) |

GitHub에서 main 최신 커밋 `63d38db` 확인 가능.

---

## 2) 실데이터 Import (PC에서 실행 후 아래 채우기)

**실행 명령 (프로젝트 루트):**
```bash
cd c:\xampp\htdocs\gilime_mvp_01
php scripts/import_seoul_bus_stop_master_full.php
```

**로그에서 아래 5개만 발췌해 채팅에 붙여넣기:**

| 항목 | 값 (실행 후 기입) |
|------|-------------------|
| Total | 11461 |
| Inserted | 0 |
| Updated | 11461 |
| Skipped | 0 |
| seoul_bus_stop_master 최종 row count | 11461 |

---

## 3) v0.6-20_validation (Workbench에서 실행 후 채우기)

**파일:** `sql/v0.6-20_validation.sql`  
**실행:** 주석 해제 후 (1)(2)(3)(6)(7) 쿼리 실행.

| 항목 | 값 (실행 후 기입) |
|------|-------------------|
| (1) row count | 11461 |
| (2) stop_name 인덱스 존재 (인덱스명) | ix_seoul_stop_name (stop_name) |
| (3) PK 존재 여부 | PRIMARY (NON_UNIQUE=0) |
| (6) EXPLAIN exact: type= , key= | type=ref, key=ix_seoul_stop_name |
| (7) EXPLAIN like_prefix: type= , key= | type=range, key=ix_seoul_stop_name |

---

## 4) Web Gate 회귀 (브라우저에서 확인 후 채우기)

**순서:** doc_id=1, route_label=R1 기준.

| # | 확인 항목 | YES/NO |
|---|-----------|--------|
| 1 | doc.php → Run Parse/Match 후 "PARSE_MATCH Metrics (latest job)" 섹션 노출 | YES (Run Parse/Match success job_id=17 확인) |
| 2 | route_review 기본: Candidates + summary(Auto Matched/Low/None/Alias Used) 노출 | YES |
| 3 | only_unmatched 토글: "매칭 실패만 보기" 시 목록 감소, 추천 canonical ON/cache 표시 | YES (meta OFF/cache 0 표시 확인) |
| 4 | only_low 토글: "LOW만 보기" 시 like_prefix만 표시, only_unmatched+only_low 조합 동작 | YES (LOW 해제·LOW만 표시 중·no candidates 확인) |
| 5 | LOW 게이트: 체크 없이 Approve → 차단 / 체크 후 Approve → 승인 | YES (approved: candidate #28 확인) |
| 6 | alias: A canonical not found 차단 / B too short 차단 / C 정상 시 alias_live_rematch | A(준비확인), B(-), C(-) |

**결과 붙여넣을 한 줄 형식:**  
`- doc.php metrics: YES/NO - route_review 기본: YES/NO - only_unmatched: YES/NO - only_low: YES/NO - LOW 게이트: YES/NO - alias A/B/C: YES/NO, YES/NO, YES/NO`

---

## 5) v0.6-21_validation 핵심 (Workbench 실행 후 채우기)

**파일:** `sql/v0.6-21_validation.sql` — :doc, :rl, :latest_job_id 치환 후 8개 실행.

| 항목 | 값 (기대) |
|------|-----------|
| (4) alias canonical master_match 요약 | rows=3, master_match=0 건=0, min=1 (통과) |
| (5) alias_text <=2 (blocked) | 3 (기대 0 — 과거 등록 데이터 가능) |
| (7) approved_empty_matched_stop_id | 0 (통과) |

---

## 채팅에 붙여넣을 템플릿 (위 실행 후 채워서 전달)

```
1) Git push:
- status: not clean (untracked docs/v0.6-23_결과보고.md)
- push: success

2) Import:
- Total=11461
- Inserted=0
- Updated=11461
- Skipped=0
- FinalRowCount=11461

3) v0.6-20_validation:
- RowCount=11461
- StopNameIndex=ix_seoul_stop_name (stop_name)
- PK=PRIMARY (NON_UNIQUE=0)
- EXPLAIN exact: type=ref, key=ix_seoul_stop_name
- EXPLAIN like_prefix: type=range, key=ix_seoul_stop_name

4) Web Gate (이미지 기준):
- doc.php metrics 노출: YES
- route_review 기본 진입: YES
- only_unmatched 토글: YES
- only_low 토글: YES
- LOW 승인 게이트: YES
- alias 차단/성공 3종: A(준비확인), B(-), C(-). A: Quick Search에서 "부천역" no results → stop_master 미존재 확인됨. alias 등록 폼에 부천역 입력 후 제출 시 "canonical not found" 차단 메시지 나오면 A=YES.

5) v0.6-21_validation 핵심:
- (4) alias canonical master_match 요약= rows 3, master_match=0 건 0, min 1
- (5) alias_text<=2 blocked= 3 (기대 0)
- (7) approved_empty_matched_stop_id= 0
```

위 블록을 복사한 뒤, **2)~5)만 PC에서 실행한 결과로 채워서** 이 채팅에 붙여넣으면, 실패 지점이 있으면 v0.6-24 수정 지시로, 모두 통과면 v0.6-23 RC 종료 후 다음 기능으로 전환합니다.
